function loadMoreFn(e) {
    function t() {
        u = !1, l.innerHTML = "", Element.addClass(l, "on"), r++, setTimeout(function () {
            E ? (u = !0, l.innerHTML = "&#21152;&#36733;&#26356;&#22810;", Element.removeClass(l, "on"), n()) : o(), r >= h - 1 && (s ? (E = !1, p = 10) : (l.style.display = "none", c && (c.style.display = "block")))
        }, p)
    }

    function n() {
        h > r && Element.addClass(v[r], "on")
    }

    function o() {
        d++, m.jsonp({
            url: s + "&p=" + d, success: function (e) {
                e.isloading ? (l.innerHTML = "&#21152;&#36733;&#26356;&#22810;", Element.removeClass(l, "on"), u = !0) : (l.style.display = "none", c && (c.style.display = "block")), e.count && i(e.context)
            }
        })
    }

    function i(e) {
        function t(t) {
            var n = "", a = "";
            "video" == f ? n = "http://thumb1.yokacdn.com/p?w=373&h=230&cut=1&wt=0&f=" + e[t].picture : "list" == f ? (a = "g-list", n = "http://thumb1.yokacdn.com/p?w=373&h=300&cut=1&wt=0&f=" + e[t].picture) : t % o == 0 || t % o == 1 ? (a = "g-list big", n = "http://thumb1.yokacdn.com/p?w=570&h=425&cut=1&wt=0&f=" + e[t].picture) : (a = "g-list", n = "http://thumb1.yokacdn.com/p?w=373&h=300&cut=1&wt=0&f=" + e[t].picture), "video" == f ? (i += '<div class="vListBox"><a href="' + e[t].link + '">', i += '<div class="img">', i += '<img src="' + n + '" alt=""><div class="icon"></div>', i += "</div>", i += '<div class="tit">' + e[t].title + "</div>", i += "</a></div>") : (i += '<div class="' + a + '">', i += '<div class="img"><a href="' + e[t].link + '"><img src="' + n + '" alt=""></a></div>', i += '<div class="tit"><a href="' + e[t].link + '">' + e[t].title + "</a></div>", i += "</div>")
        }

        for (var n = e.length, o = n / 2, i = "", l = 0; n > l; l++) t(l);
        c.innerHTML = i, a.appendChild(c)
    }

    var a = $$(e.box) || null, l = $$(e.more), c = $$(e.page) || null, s = e.url || "", d = 0, r = -1, u = !0,
        m = Request(), f = e.type || "", v = getChild.className("hideBox", a), h = v.length || 0, p = 500, E = !0;
    0 == h && (E = !1), Event.add(l, "click", function () {
        u && (u = !1, t())
    })
}

function navAside(e, t, n, o) {
    var i = document.getElementById(e) || null, n = document.getElementById(n) || null,
        a = document.getElementById(o) || null, l = document.getElementById(t) || null;
    i && n && t && (Event.add(n, "click", function () {
        Element.addClass(i, "on"), l.style.display = "block"
    }), Event.add(a, "click", function () {
        Element.removeClass(i, "on"), l.style.display = "none"
    }))
}

function changeNew(e, t, n) {
    function o() {
        for (var e = 0; c > e; e++) Element.removeClass(l[e], "on");
        Element.addClass(l[s], "on")
    }

    var i = document.getElementById(e), a = document.getElementById(t), l = getChild.all(a), c = l.length, s = n || 0;
    i && a && c && (o(), i.onselectstart = function () {
        return !1
    }, Event.add(i, "click", function () {
        s >= c - 1 ? s = 0 : s++, o()
    }))
}

function floatBox(e) {
    function t() {
        for (var e = 0; e < c.length; e++) c[e].style.left = l[e][0] + (n(2) ? 6 : -6) + "px", c[e].style.top = l[e][1] + (n(2) ? 6 : -6) + "px"
    }

    function n(e) {
        return Math.floor(Math.random() * e)
    }

    var o = !0;
    if ("Microsoft Internet Explorer" == navigator.appName) {
        var i = navigator.appVersion.split(";")[1].replace(/[ ]/g, "");
        ("MSIE6.0" == i || "MSIE7.0" == i || "MSIE8.0" == i || "MSIE9.0" == i) && (o = !1)
    }
    if (o) {
        var a = e ? document.getElementById(e) : null, l = [];
        if (a) {
            for (var c = a.getElementsByTagName("a"), s = 0; s < c.length; s++) {
                var d = parseFloat(Element.getStyle(c[s], "left")), r = parseFloat(Element.getStyle(c[s], "top"));
                l.push([d, r])
            }
            t();
            {
                setInterval(t, 1800)
            }
        }
    }
}

function featureFn(e) {
    function t() {
        Element.addClass(l[s], "on")
    }

    function n(e) {
        e != s && (Element.removeClass(l[s], "on"), s = e, Element.addClass(l[s], "on"))
    }

    var o = document.getElementById(e.box), i = getChild.className("btn_l", o)[0] || null,
        a = getChild.className("btn_r", o)[0] || null, l = getChild.className("list", o), c = l.length, s = e.now || 0,
        d = e.now || 0;
    t(), Event.add(i, "click", function () {
        0 >= d ? d = c - 1 : d--, n(d)
    }), Event.add(a, "click", function () {
        d >= c - 1 ? d = 0 : d++, n(d)
    })
}

function tryCountdown(e) {
    function t(e) {
        var t = a[e].getAttribute("data-time");
        t && (t = parseInt(t), n(t, a[e]), a[e].timer = setInterval(function () {
            t ? (t--, n(t, a[e])) : clearInterval(a[e].timer)
        }, 1e3))
    }

    function n(e, t) {
        {
            var n = Math.floor(e / 86400), i = Math.floor((e - 3600 * n * 24) / 3600),
                a = Math.floor((e - 24 * n * 60 * 60 - 3600 * i) / 60),
                l = Math.floor(e - 24 * n * 60 * 60 - 3600 * i - 60 * a), c = o(n), s = o(i), d = o(a);
            o(l)
        }
        t.innerHTML = "<span>" + c + "</span> 天 <span>" + s + "</span> 时 <span>" + d + "</span> 分"
    }

    function o(e) {
        var t = "" + e, n = t.length;
        return 2 > n && "0" != t && (t = 0 + t), t
    }

    var i = $$(e);
    if (i) {
        var a = getChild.label("countdown", i), l = a.length;
        if (l) for (var c = 0; l > c; c++) t(c)
    }
}

function tryMobile(e) {
    function t(e) {
        Event.add(a[e], "mouseover", function () {
            n(e)
        }), Event.add(l[e], "mouseover", function () {
            n(e)
        }), Event.add(a[e], "mouseout", function () {
            o(e)
        }), Event.add(l[e], "mouseout", function () {
            o(e)
        })
    }

    function n(e) {
        l[e] && (Element.addClass(a[e], "on"), l[e].style.display = "block")
    }

    function o(e) {
        l[e] && (Element.removeClass(a[e], "on"), l[e].style.display = "none")
    }

    var i = $$(e);
    if (i) {
        var a = getChild.className("mobile", i), l = getChild.className("mobLay", i), c = l.length;
        if (c) for (var s = 0; c > s; s++) t(s)
    }
}

function selectSearch(e) {
    this.oBox = $$(e.box), this.oInput = $$(e.input), this.bBtn = !0, this.btn = !1, this.timer = null
}

function editHomeFn() {
    function e() {
        v = setTimeout(function () {
            Element.removeClass(a, "on")
        }, 40)
    }

    function t() {
        clearTimeout(v), Element.addClass(a, "on")
    }

    function n() {
        Element.removeClass(c[m], "on"), Element.addClass(c[u], "on"), m = u
    }

    function o(e, t) {
        for (var n = [], o = new RegExp("(^| )" + e + "( |$)"), i = $$(t, "*"), a = 0; a < i.length; a++) o.test(i[a].className) && n.push(i[a]);
        return n
    }

    var i = document.getElementById("editHomeBtn"), a = document.getElementById("editHomeBox");
    if (i && a) {
        var l = o("border", i)[0], c = l ? l.getElementsByTagName("div") : [], s = c.length, d = o("close", a)[0],
            r = null, u = -1, m = 0, f = 0, v = null;
        if ("Microsoft Internet Explorer" == navigator.appName) {
            var h = navigator.appVersion.split(";")[1].replace(/[ ]/g, "");
            ("MSIE6.0" == h || "MSIE7.0" == h || "MSIE8.0" == h) && (l.style.display = "none")
        }
        Event.add(i, "mouseover", function () {
            t()
        }), Event.add(a, "mouseover", function () {
            t()
        }), Event.add(a, "mouseout", function () {
            e()
        }), Event.add(i, "mouseout", function () {
            e()
        }), Event.add(d, "click", function () {
            e()
        }), s && (r = setInterval(function () {
            s - 1 > u ? (u++, n()) : (u = 0, f++, f > 10 && (clearInterval(r), l.style.display = "none"))
        }, 100))
    }
}

function changeSwitch(e) {
    function t() {
        c && (c.innerHTML = "<span>" + (u + 1) + "</span>/" + d)
    }

    function n() {
        m && f.start({left: -u * s[0].offsetWidth});
        for (var e = 0; d > e; e++) m || Element.removeClass(s[e], "on");
        Element.addClass(s[u], "on"), a && (0 >= u ? Element.addClass(a, "on") : Element.removeClass(a, "on")), l && (u >= d - 1 ? Element.addClass(l, "on") : Element.removeClass(l, "on")), t()
    }

    function o() {
        u >= d - 1 ? u = 0 : u++, n()
    }

    var i = $$(e.box), a = $$(e.left), l = $$(e.right), c = $$(e.index) || null, s = (e.callback || null, i.children),
        d = s.length, r = e.time || 0, u = 0, m = e.type ? !0 : !1, f = Anima(i), v = null;
    m && (i.style.width = s[0].offsetWidth * d + "px"), t(), a && Event.add(a, "click", function () {
        r ? 0 >= u ? u = d - 1 : u-- : u > 0 ? u-- : u = 0, n()
    }), l && Event.add(l, "click", function () {
        r ? u >= d - 1 ? u = 0 : u++ : d - 1 > u ? u++ : u = d - 1, n()
    }), Event.add(i, "mouseover", function () {
        clearInterval(v)
    }), Event.add(i, "mouseout", function () {
        r && (v = setInterval(o, 1e3 * r))
    }), a && (Event.add(a, "mouseover", function () {
        clearInterval(v)
    }), Event.add(a, "mouseout", function () {
        r && (v = setInterval(o, 1e3 * r))
    })), l && (Event.add(l, "mouseover", function () {
        clearInterval(v)
    }), Event.add(l, "mouseout", function () {
        r && (v = setInterval(o, 1e3 * r))
    })), r && (v = setInterval(o, 1e3 * r))
}

function rightFixed(e) {
    Event.add(window, "load", function () {
        function t() {
            if (r = document.documentElement.clientWidth || document.body.clientWidth, u = document.documentElement.clientHeight || document.body.clientHeight, h = document.documentElement.scrollTop || document.body.scrollTop, h >= f) {
                if (E && 1863 > r) return void Element.removeClass(i, "active");
                var e = (r - 1180 > 0 ? (r - 1180) / 2 + (1180 - i.offsetWidth - 10) : 1180 - i.offsetWidth - 10, Math.min(h + u - v + p, 1 * d + p));
                Element.addClass(i, "active"), v - i.offsetHeight - p < h ? (i.style.top = "auto", i.style.bottom = e + "px") : (i.style.top = 0, i.style.bottom = "auto", m && (i.style.top = h + "px"))
            } else Element.removeClass(i, "active")
        }

        function n(e, t) {
            for (var n = [], o = new RegExp("(^| )" + e + "( |$)"), i = $$(t, "*"), a = 0; a < i.length; a++) o.test(i[a].className) && n.push(i[a]);
            return n
        }

        function o(e, t) {
            for (var n = e; n;) {
                if (n = n.parentNode, "BODY" == n.nodeName) return;
                var o = n.className || "";
                if (o.indexOf(t) >= 0) return n
            }
        }

        var i = $$(e) || null;
        if (i) {
            var a = o(i, "g-content"), l = n("gLeft", a)[0] || null, c = n("gRight", a)[0] || null,
                s = n("public_footer", document)[0], d = s ? s.offsetHeight : 0,
                r = document.documentElement.clientWidth || document.body.clientWidth,
                u = document.documentElement.clientHeight || document.body.clientHeight,
                m = navigator.appVersion.indexOf("MSIE 6") > -1, f = Element.getPosition(i).y,
                v = Element.getPosition(s).y, h = document.documentElement.scrollTop || document.body.scrollTop, p = 40,
                E = i.className.indexOf("right_fixed") >= 0 ? !0 : !1;
            i.className.indexOf("right_adBox") >= 0 && (p = 384), l && c && (l.offsetHeight < c.offsetHeight || (t(), Event.add(window, "scroll", t), Event.add(window, "resize", t)))
        }
    })
}

function searchOpen(e) {
    var t = $$(e.input), n = $$(e.btn);
    t && n && Event.add(n, "click", function () {
        var e = /-/g, n = t.value.replace(e, "");
        window.open("http://www.yoka.com/dna/star/item------" + n + "-------1.html")
    })
}

function publicAccountShow(e) {
    function t() {
        clearTimeout(l), a.style.display = "block"
    }

    function n() {
        l = setTimeout(function () {
            a.style.display = "none"
        }, 300)
    }

    var o = $$(e);
    if (o) {
        var i = getChild.className("l", o)[0], a = getChild.className("code", o)[0], l = null;
        Event.add(i, "mouseover", function () {
            t()
        }), Event.add(a, "mouseover", function () {
            t()
        }), Event.add(i, "mouseout", function () {
            n()
        }), Event.add(a, "mouseout", function () {
            n()
        })
    }
}

!function () {
    function e(e) {
        function u(e) {
            l = e, d = l.isads, d && (r = c[c.length - 1].innerHTML)
        }

        o = $$(e.box), i = $$(e.btn), c = getChild.className("fcut", o), a = e.url;
        /[\?]/g.test(a) ? "" : "?";
        n(a, "todayNewsJsonpData"), window.todayNewsJsonpData = u, i && Event.add(i, "click", function () {
            var e = l[s];
            t(e), s = 1 == s ? 2 : 1
        })
    }

    function t(e) {
        var t = e.length;
        d && (t += 1), o.innerHTML = "";
        for (var n = 0; t > n; n++) {
            var i = document.createElement("div");
            i.className = "fcut", i.innerHTML = n == t - 1 && d ? r : '<div class="mask"><a href="' + e[n].link + '">' + e[n].title + "</a></div>", o.appendChild(i)
        }
    }

    function n(e, t) {
        var n = document.getElementsByTagName("head")[0], o = document.createElement("script"),
            i = /[\?]/g.test(e) ? "&" : "?";
        o.async = !0, o.src = e + i + "callback=" + t, n.appendChild(o)
    }

    var o, i, a, l, c, s = 2, d = ((new Date).getTime(), !0), r = "";
    window.todayNews = e
}(), selectSearch.prototype = {
    init: function () {
        var e = this;
        Event.add(e.oInput, "click", function (t) {
            var t = t || event;
            e.bBtn ? e.show() : e.hide(), t.cancelBubble = !0
        }), Event.add(e.oInput, "mouseout", function () {
            e.hide()
        }), Event.add(e.oBox, "mouseout", function () {
            e.hide()
        }), Event.add(e.oBox, "mouseover", function () {
            e.btn && e.show()
        }), Event.add(e.oInput, "mouseover", function () {
            e.btn && e.show()
        }), Event.add(document, "click", function () {
            e.hide()
        }), Event.add(window, "resize", function () {
            e.bBtn || e.resize()
        })
    }, show: function () {
        clearTimeout(this.timer), this.resize(), this.oBox.style.display = "block", this.bBtn = !1, this.btn = !0
    }, resize: function () {
        var e = Element.getPosition(this.oInput).x, t = Element.getPosition(this.oInput).y + this.oInput.offsetHeight;
        this.oBox.style.cssText += ";left:" + e + "px;top:" + t + "px;"
    }, hide: function () {
        var e = this;
        this.timer = setTimeout(function () {
            e.oBox.style.display = "none", e.bBtn = !0, e.btn = !1
        }, 100)
    }
};
var through = {
    chart: function (e) {
        var t, n, o = e.url, i = [], a = [], l = 0, c = Request(), s = "";
        Domready(function () {
            t = $$(e.infoBox), n = $$(e.score), t && n && c.jsonp({
                url: o, success: function (o) {
                    function c(e) {
                        var t = document.createElement("li"),
                            o = "<em>" + a[e].name + '</em><div class="stars"><i style="width: ' + a[e].reward / 5 * 100 + '%"></i></div><span>' + a[e].reward + "</span>";
                        t.innerHTML = o, n.appendChild(t)
                    }

                    if (i = o.chart, a = o.brandReward, l = a.length, s = "<span>" + o.reward + "</span>", s += '<div class="stars"><i style="width: ' + o.reward / 5 * 100 + '%"></i></div>', s += "<p>" + o.commentCount + "人评分</p>", t.innerHTML = s, n.innerHTML = "", l) for (var d = 0; d < Math.min(l, 5); d++) c(d);
                    colors = ["#f8a1aa", "#ff9e57", "#79c4a5", "#72c8d7", "#a7c0de"];
                    var r = [];
                    if (null != i) for (var d = 0; d < i.length; d++) r.push({
                        name: i[d][0],
                        y: i[d][1],
                        color: colors[d]
                    });
                    getpie(e.chartBox, r)
                }
            })
        })
    }, hzpInfo: function (e, t, n) {
        var o = $$(e), i = $$(t), a = n;
        if (o && i && a) {
            var l = Request();
            l.jsonp({
                url: a, success: function (e) {
                    o.innerHTML = e.reward, i.innerHTML = e.commentNum
                }
            })
        }
    }, hzpProduct: function (e, t) {
        function n(e, t) {
            var n = e.length;
            t.innerHTML = "";
            for (var o = 0; n > o; o++) {
                var i = '<dt><a target="_blank" href="' + e[o].href + '"><img alt="" src="' + e[o].photo + '" ><i></i></a></dt>';
                i += '<dd><h3><a target="_blank" href="' + e[o].href + '">' + e[o].name + "</a></h3>", i += "<em>￥" + e[o].price + "</em>", i += '<div class="fen">', i += '<div class="stars"><i style="width: ' + e[o].reward / 5 * 100 + '%"></i></div><i class="data">' + e[o].reward + "</i></div>", i += '<p><a target="_blank" href="' + e[o].commentHref + '"><i>' + e[o].commentNum + "</i></a>心得</p>", i += "</dd>";
                var a = document.createElement("dl");
                a.innerHTML = i, t.appendChild(a)
            }
        }

        function o(e, t) {
            for (var n = [], o = new RegExp("(^| )" + e + "( |$)"), i = $$(t, "*"), a = 0; a < i.length; a++) o.test(i[a].getAttribute("data-type")) && n.push(i[a]);
            return n
        }

        var i = $$(e), a = t;
        if (i && a) {
            var l = Request(), c = o("new", i)[0], s = o("hot", i)[0], d = o("price", i)[0];
            l.jsonp({
                url: a, success: function (e) {
                    e && (e.newProduct && e.newProduct.length && c && n(e.newProduct, c), e.hotProduct && e.hotProduct.length && s && n(e.hotProduct, s), e.priceProduct && e.priceProduct.length && d && n(e.priceProduct, d))
                }
            })
        }
    }
};
Domready(function () {
    Event.add(document, "click", function (e) {
        var t = Event.target(e);
        if ("col" == t.className && "l-title" == t.parentNode.className) {
            var n = getChild.className("m-menu", t.parentNode)[0] || null;
            n && (n.style.display = "block")
        }
    })
});